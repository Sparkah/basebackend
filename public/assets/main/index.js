System.register("chunks:///_virtual/apiClient.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,a,o,s,u,c,i;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,i=e.Component}],execute:function(){var p,l,f;u._RF.push({},"58ba2/aDd9N4ZPYhJz/HB9R","apiClient",void 0);var h=c.ccclass,d=c.property;e("apiClient",h("apiClient")((f=r((l=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,n(r,"BaseUrl",f,a(r)),r}t(r,e);var u=r.prototype;return u.sendRunFinished=function(){var e=o(s().mark((function e(r){var t,n,a,o,u,c,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=Number(localStorage.getItem("user_fid"))){e.next=9;break}if(!(n=window.miniapp)){e.next=9;break}return e.next=7,n.context;case 7:(a=e.sent)&&a.user&&(t=a.user.fid);case 9:if(t&&0!==t){e.next=12;break}return console.error("‚ùå Fatal Error: No FID found in Storage or Context. Cannot save run."),e.abrupt("return");case 12:return console.log("üöÄ Sending run for FID: "+t+", Score: "+r),o={fid:t,score:r},e.next=16,fetch(this.BaseUrl+"/runs/finish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 16:if((u=e.sent).ok){e.next=23;break}return e.next=20,u.text();case 20:return c=e.sent,console.error("‚ùå API error:",c),e.abrupt("return");case 23:return e.next=25,u.json();case 25:i=e.sent,console.log("‚úÖ Run saved:",i),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.error("‚ùå Failed to send run:",e.t0);case 32:case"end":return e.stop()}}),e,this,[[0,29]])})));return function(r){return e.apply(this,arguments)}}(),u.getAllRuns=function(){var e=o(s().mark((function e(){var r,t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this.BaseUrl+"/runs/all",{method:"GET"});case 3:if((r=e.sent).ok){e.next=10;break}return e.next=7,r.text();case 7:return t=e.sent,console.error("‚ùå API error:",t),e.abrupt("return",[]);case 10:return e.next=12,r.json();case 12:return(n=e.sent).length>0&&console.log("Fetched first run:",n[0]),e.abrupt("return",n);case 17:return e.prev=17,e.t0=e.catch(0),console.error("‚ùå Failed to fetch runs:",e.t0),e.abrupt("return",[]);case 21:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),u.upgradeCrit=function(){var e=o(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._callUpgradeEndpoint("/users/upgradecrit"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.upgradeTapValue=function(){var e=o(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._callUpgradeEndpoint("/users/upgradevalue"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u._callUpgradeEndpoint=function(){var e=o(s().mark((function e(r){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("auth_token")){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,fetch(""+this.BaseUrl+r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 6:if((n=e.sent).ok){e.next=14;break}return e.t0=console,e.next=11,n.text();case 11:return e.t1=e.sent,e.t0.error.call(e.t0,"Upgrade failed:",e.t1),e.abrupt("return",null);case 14:return e.next=16,n.json();case 16:return e.abrupt("return",e.sent);case 19:return e.prev=19,e.t2=e.catch(0),console.error("Upgrade error:",e.t2),e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,this,[[0,19]])})));return function(r){return e.apply(this,arguments)}}(),r}(i)).prototype,"BaseUrl",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"https://basebackend-production-f4f9.up.railway.app"}}),p=l))||p);u._RF.pop()}}}));

System.register("chunks:///_virtual/authPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,a,o,s;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator,s=e.Component}],execute:function(){var c;a._RF.push({},"90b9aPjXKdGfqQXsk/Z4xZz","authPanel",void 0);var i=o.ccclass;e("authPanel",i("authPanel")(c=function(e){function a(){return e.apply(this,arguments)||this}n(a,e);var o=a.prototype;return o.initMiniApp=function(){var e=t(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getFarcasterSDK()){e.next=4;break}return console.error("‚ùå SDK not found. Are you in a browser?"),e.abrupt("return");case 4:return console.log("‚úÖ SDK Found. Initializing..."),e.prev=5,e.next=8,n.actions.ready();case 8:return console.log("‚úÖ sent sdk.actions.ready()"),e.next=11,this.silentLogin(n);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.error("‚ùå SDK Init Error:",e.t0);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(){return e.apply(this,arguments)}}(),o.silentLogin=function(){var e=t(r().mark((function e(n){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("üïµÔ∏è Starting Silent Login..."),e.next=4,n.context;case 4:if(!(t=e.sent)||!t.user){e.next=11;break}return console.log("üë§ User Context Found:",t.user.username),e.next=9,this.loginToBackend(t.user);case 9:e.next=12;break;case 11:console.warn("‚ö†Ô∏è No user context found. (Running outside Farcaster?)");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("‚ùå Silent login error:",e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(n){return e.apply(this,arguments)}}(),o.loginToBackend=function(){var e=t(r().mark((function e(n){var t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://basebackend-production-f4f9.up.railway.app/auth/login-silent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fid:n.fid,username:n.username,displayName:n.displayName,pfpUrl:n.pfpUrl})});case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Backend Status: "+t.status);case 6:return e.next=8,t.json();case 8:a=e.sent,console.log("üîê Backend Auth Success! Token:",a.accessToken),localStorage.setItem("auth_token",a.accessToken),localStorage.setItem("user_fid",n.fid.toString()),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("‚ùå Backend connection failed:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(n){return e.apply(this,arguments)}}(),o.getFarcasterSDK=function(){var e=window.miniapp;return e?e.actions?e:e.default&&e.default.actions?e.default:e.sdk&&e.sdk.actions?e.sdk:null:null},a}(s))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/clicker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameManager.ts"],(function(e){var t,i,r,a,o,n,s,c,l,h,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,s=e.Node,c=e.RichText,l=e.Label,h=e.Component},function(e){u=e.gameManager}],execute:function(){var m,f,p,_,g,d,T,x,y,b;o._RF.push({},"132a6HotXRCe4xf0UlO+aoz","clicker",void 0);var R=n.ccclass,C=n.property;e("clicker",(m=R("clicker"),f=C(s),p=C(s),_=C(s),m((T=t((d=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,r(t,"scoreText",T,a(t)),r(t,"timerText",x,a(t)),r(t,"defaultTime",y,a(t)),r(t,"GameManagerNode",b,a(t)),t._gameManager=null,t._playerData=null,t._score=0,t._timer=0,t._gameStarted=!1,t._timerRichText=null,t._scoreRichText=null,t}i(t,e);var o=t.prototype;return o.start=function(){this.node.on(s.EventType.TOUCH_START,this._onClick,this),this._timerRichText=this.timerText.getComponent(c)||this.timerText.getComponent(l),this._scoreRichText=this.scoreText.getComponent(c)||this.scoreText.getComponent(l),this.GameManagerNode&&(this._gameManager=this.GameManagerNode.getComponent(u))},o.setPlayerData=function(e){this._playerData=e},o.startGame=function(){this._gameStarted=!0,this._score=0,this._timer=this.defaultTime,this.updateUI(0,!1)},o.update=function(e){this._gameStarted&&(this._timer-=e,this._timer<=0?this.finishGame():this._timerRichText&&(this._timerRichText.string="<color=#ff0000>Time: </color><color=#ff00ff>"+this._timer.toFixed(2)+"</color>"))},o.finishGame=function(){this._timer=0,this._gameStarted=!1,this._gameManager?this._gameManager.onRunFinished(this._score):console.error("Game Manager not found! Score lost.")},o._onClick=function(){if(this._gameStarted&&!(this._timer<=0)){var e=1;this._playerData&&(e+=this._playerData.currentClickPowerUpgrds||0);var t=!1;if(this._playerData){var i=this._playerData.currentCritsUpgrds||0;100*Math.random()<i&&(t=!0,e*=5,console.log("üî• CRITICAL HIT!"))}this._score+=e,this.updateUI(this._score,t)}},o.updateUI=function(e,t){if(this._scoreRichText){var i=t?"#ff0000":"#0fffff",r=t?"<b>":"",a=t?"</b>":"";this._scoreRichText.string="<color=#00ff00>Score: </color>"+r+"<color="+i+">"+e+"</color>"+a}},t}(h)).prototype,"scoreText",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(d.prototype,"timerText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(d.prototype,"defaultTime",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),b=t(d.prototype,"GameManagerNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=d))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/gameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./clicker.ts","./apiClient.ts","./leaderboard.ts","./authPanel.ts","./playerStatsPanel.ts","./playerData.ts"],(function(e){var t,a,n,i,r,l,o,s,u,c,h,p,d,f,y,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,u=e.Node,c=e.Component},function(e){h=e.clicker},function(e){p=e.apiClient},function(e){d=e.leaderboard},function(e){f=e.authPanel},function(e){y=e.playerStatsPanel},function(e){P=e.playerData}],execute:function(){var b,v,g,m,w,C,M,D,k,A,L,R,S,z,G;o._RF.push({},"a9868MUjVtFyIwKobvEGsik","gameManager",void 0);var F=s.ccclass,N=s.property;e("gameManager",(b=F("gameManager"),v=N(u),g=N(u),m=N(h),w=N(f),C=N(u),M=N(y),b((A=t((k=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"GameplayPanel",A,i(t)),n(t,"MenuPanel",L,i(t)),n(t,"Clicker",R,i(t)),n(t,"authPanel",S,i(t)),t.ApiClient=null,t.playerData=void 0,n(t,"LeaderboardPanel",z,i(t)),n(t,"PlayerStatsPanel",G,i(t)),t}a(t,e);var o=t.prototype;return o.start=function(){var e=this;this.ApiClient=new p,this.playerData=new P,this.authPanel.initMiniApp().then((function(){e.loadAndRefresh()})),this.showMenu()},o.startGame=function(){this.MenuPanel.active=!1,this.GameplayPanel.active=!0,this.authPanel.node.active=!1,this.LeaderboardPanel.active=!1,this.Clicker&&(this.Clicker.setPlayerData(this.playerData),this.Clicker.startGame())},o.onRunFinished=function(e){var t=this;console.log("Run ended. Score:",e),this.ApiClient&&this.ApiClient.sendRunFinished(e).then((function(){t.loadAndRefresh()})),this.showMenu()},o.showMenu=function(){this.MenuPanel.active=!0,this.GameplayPanel.active=!1,this.LeaderboardPanel.active=!1,this.authPanel&&(this.authPanel.node.active=!1)},o.showNormalLeaderboard=function(){this.LeaderboardPanel.active=!0;var e=this.LeaderboardPanel.getComponent(d);e&&this.ApiClient&&this.ApiClient.getAllRuns().then((function(t){return e.showLeaderboard(t)})),this.MenuPanel.active=!1},o.showNFTLeaderboard=function(){console.log("Show NFT Leaderboard clicked")},o.loadAndRefresh=function(){var e=r(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.playerData.loadData();case 2:this.PlayerStatsPanel&&this.PlayerStatsPanel.updateStats(this.playerData),this.Clicker&&this.Clicker.setPlayerData(this.playerData);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(c)).prototype,"GameplayPanel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(k.prototype,"MenuPanel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(k.prototype,"Clicker",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(k.prototype,"authPanel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(k.prototype,"LeaderboardPanel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(k.prototype,"PlayerStatsPanel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=k))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/gameplayPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,a,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator,r=e.Component}],execute:function(){var o;n._RF.push({},"32d94ZjjV9J2a4SVz73rGRi","gameplayPanel",void 0);var c=a.ccclass;a.property,e("gameplayPanel",c("gameplayPanel")(o=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var a=n.prototype;return a.start=function(){},a.update=function(e){},n}(r))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/leaderboard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameManager.ts"],(function(e){var t,r,n,a,o,i,s,l,c,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,s=e.Prefab,l=e.Button,c=e.instantiate,u=e.RichText,p=e.Component},function(e){f=e.gameManager}],execute:function(){var h,d,b,g,y,m,P,_,v;o._RF.push({},"ce6f55mAYxHbqEEg4BgpKRh","leaderboard",void 0);var x=i.ccclass,C=i.property;e("leaderboard",(h=x("leaderboard"),d=C(s),b=C(l),g=C(f),h((P=t((m=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(t,"DisplyPlayerPrefab",P,a(t)),n(t,"backBtn",_,a(t)),n(t,"gameManagerNode",v,a(t)),t._textNodes=[],t._textComponents=[],t._maxLeaders=100,t}r(t,e);var o=t.prototype;return o.start=function(){if(this.DisplyPlayerPrefab){this.backBtn&&this.backBtn.node.on(l.EventType.CLICK,this._onBackClicked,this);for(var e=0;e<this._maxLeaders;e++){var t=c(this.DisplyPlayerPrefab),r=t.getComponent(u);r?(r.string="",this._textNodes.push(t),this._textComponents.push(r),this.node.addChild(t)):console.error("Prefab has no RichText component")}}else console.error("DisplyPlayerPrefab is not set")},o.showLeaderboard=function(e){for(var t=0;t<this._textComponents.length;t++){var r=this._textComponents[t];if(t>=e.length)r.string="";else{var n=e[t],a=n.user?n.user.username:"Unknown Player";new Date(n.createdAt).toLocaleDateString();r.string="<color=#00ff00>"+(t+1)+".</color> "+a+" - Score: <color=#ff0000>"+n.score+"</color>"}}},o._onBackClicked=function(){this.gameManagerNode.showMenu()},t}(p)).prototype,"DisplyPlayerPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(m.prototype,"backBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(m.prototype,"gameManagerNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./leaderboard.ts","./apiClient.ts","./authPanel.ts","./gameManager.ts","./clicker.ts","./gameplayPanel.ts","./playerStatsPanel.ts","./menuPanel.ts","./playerData.ts","./walletPanel.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/menuPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameManager.ts"],(function(e){var a,r,t,n,i,o,l,s,u;return{setters:[function(e){a=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Button,s=e.Component},function(e){u=e.gameManager}],execute:function(){var d,c,m,b,h,p,f,g,w,L,v;i._RF.push({},"e63a2xJQZhH84RwMMJR4t2b","menuPanel",void 0);var y=o.ccclass,B=o.property;e("menuPanel",(d=y("menuPanel"),c=B(u),m=B(l),b=B(l),h=B(l),d((g=a((f=function(e){function a(){for(var a,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=e.call.apply(e,[this].concat(i))||this,t(a,"GameManager",g,n(a)),t(a,"startGameBtn",w,n(a)),t(a,"viewNormalLeaderbiardBtn",L,n(a)),t(a,"viewNFTLeaderbiardBtn",v,n(a)),a}r(a,e);var i=a.prototype;return i.start=function(){this.startGameBtn&&this.startGameBtn.node.on(l.EventType.CLICK,this._onStartClicked,this),this.viewNormalLeaderbiardBtn&&this.viewNormalLeaderbiardBtn.node.on(l.EventType.CLICK,this._onViewNormalLeaderboardClicked,this),this.viewNFTLeaderbiardBtn&&this.viewNFTLeaderbiardBtn.node.on(l.EventType.CLICK,this._onViewNFTLeaderboardClicked,this)},i._onStartClicked=function(){this.GameManager&&this.GameManager.startGame()},i._onViewNormalLeaderboardClicked=function(){this.GameManager&&this.GameManager.showNormalLeaderboard()},i._onViewNFTLeaderboardClicked=function(){this.GameManager&&this.GameManager.showNFTLeaderboard()},a}(s)).prototype,"GameManager",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=a(f.prototype,"startGameBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=a(f.prototype,"viewNormalLeaderbiardBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=a(f.prototype,"viewNFTLeaderbiardBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/playerData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var t,e,n,a,s,o;return{setters:[function(r){t=r.inheritsLoose,e=r.asyncToGenerator,n=r.regeneratorRuntime},function(r){a=r.cclegacy,s=r._decorator,o=r.Component}],execute:function(){var c;a._RF.push({},"7aec06qFr9GuJhc0OFJYvEf","playerData",void 0);var i=s.ccclass;r("playerData",i("playerData")(c=function(r){function a(){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=r.call.apply(r,[this].concat(n))||this).currentCoins=0,t.currentCritsUpgrds=0,t.currentClickPowerUpgrds=0,t}return t(a,r),a.prototype.loadData=function(){var r=e(n().mark((function r(){var t,e,a;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t=localStorage.getItem("auth_token")){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,fetch("https://basebackend-production-f4f9.up.railway.app/users/profile",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 6:if((e=r.sent).ok){r.next=9;break}throw new Error("Status: "+e.status);case 9:return r.next=11,e.json();case 11:a=r.sent,this.currentCoins=a.coins||0,this.currentCritsUpgrds=a.critUpgrades||1,this.currentClickPowerUpgrds=a.valueUpgrades||1,console.log("‚úÖ Data Sync:",this.currentCoins,this.currentCritsUpgrds,this.currentClickPowerUpgrds),r.next=21;break;case 18:r.prev=18,r.t0=r.catch(0),console.error("Error loading player data:",r.t0);case 21:case"end":return r.stop()}}),r,this,[[0,18]])})));return function(){return r.apply(this,arguments)}}(),a}(o))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/playerStatsPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./apiClient.ts"],(function(t){var e,n,r,a,i,s,o,u,c,l,p,h,d,f,g,C,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,u=t._decorator,c=t.Node,l=t.Button,p=t.Label,h=t.RichText,d=t.Sprite,f=t.Color,g=t.tween,C=t.Component},function(t){B=t.apiClient}],execute:function(){var b,w,y,U,x,v,m,T,_,V,P,k,L;o._RF.push({},"85eabwMKVZH6o9g8/K/Ipfz","playerStatsPanel",void 0);var S=u.ccclass,z=u.property;t("playerStatsPanel",(b=S("playerStatsPanel"),w=z(c),y=z(c),U=z(c),x=z(l),v=z(l),b((_=e((T=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,r(e,"coinsText",_,a(e)),r(e,"critText",V,a(e)),r(e,"incomeText",P,a(e)),r(e,"critUpgradeBtn",k,a(e)),r(e,"tapValueUpgradeBtn",L,a(e)),e.apiClient=new B,e._data=null,e}n(e,t);var o=e.prototype;return o.start=function(){this.critUpgradeBtn&&this.critUpgradeBtn.node.on(l.EventType.CLICK,this.onBuyCrit,this),this.tapValueUpgradeBtn&&this.tapValueUpgradeBtn.node.on(l.EventType.CLICK,this.onBuyValue,this)},o.onBuyCrit=function(){var t=i(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._data){t.next=2;break}return t.abrupt("return");case 2:if(e=this.calculateCost(this._data.currentCritsUpgrds||1,200,1.8),!(this._data.currentCoins<e)){t.next=7;break}return console.log("Not enough coins!"),this.flashButton(this.critUpgradeBtn.node,new f(255,0,0)),t.abrupt("return");case 7:return t.next=9,this.apiClient.upgradeCrit();case 9:(n=t.sent)&&!n.error?(this.flashButton(this.critUpgradeBtn.node,new f(0,255,0)),this._data.currentCoins=n.remainingCoins,this._data.currentCritsUpgrds=n.newCritLevel,this.updateStats(this._data)):this.flashButton(this.critUpgradeBtn.node,new f(255,0,0));case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onBuyValue=function(){var t=i(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._data){t.next=2;break}return t.abrupt("return");case 2:if(e=this.calculateCost(this._data.currentClickPowerUpgrds||1,50,1.4),!(this._data.currentCoins<e)){t.next=6;break}return this.flashButton(this.tapValueUpgradeBtn.node,new f(255,0,0)),t.abrupt("return");case 6:return t.next=8,this.apiClient.upgradeTapValue();case 8:(n=t.sent)&&!n.error?(this.flashButton(this.tapValueUpgradeBtn.node,new f(0,255,0)),this._data.currentCoins=n.remainingCoins,this._data.currentClickPowerUpgrds=n.newValueLevel,this.updateStats(this._data)):this.flashButton(this.tapValueUpgradeBtn.node,new f(255,0,0));case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.updateStats=function(t){this._data=t,this.setText(this.coinsText,"Coins: "+t.currentCoins),this.setText(this.critText,"Crit Chance: "+t.currentCritsUpgrds+"%"),this.setText(this.incomeText,"Tap Power: "+t.currentClickPowerUpgrds);var e=this.calculateCost(t.currentCritsUpgrds||1,200,1.8),n=this.calculateCost(t.currentClickPowerUpgrds||1,50,1.4);this.setButtonLabel(this.critUpgradeBtn,"Upgrade Crit\n("+e+")"),this.setButtonLabel(this.tapValueUpgradeBtn,"Upgrade Power\n("+n+")")},o.calculateCost=function(t,e,n){return Math.floor(e*Math.pow(n,t-1))},o.setText=function(t,e){if(t){var n=t.getComponent(p)||t.getComponent(h);n&&(n.string=e)}},o.setButtonLabel=function(t,e){if(t){var n=t.getComponentInChildren(p)||t.getComponentInChildren(h);n&&(n.string=e)}},o.flashButton=function(t,e){var n=t.getComponent(d);if(n){var r=new f(255,255,255);g(n).to(.1,{color:e}).delay(.2).to(.3,{color:r}).start()}},e}(C)).prototype,"coinsText",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(T.prototype,"critText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(T.prototype,"incomeText",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(T.prototype,"critUpgradeBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(T.prototype,"tapValueUpgradeBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=T))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/walletPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,l,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,l=t._decorator,o=t.Component}],execute:function(){var r;n._RF.push({},"165caKl1ktHMZIP9lBox9RM","walletPanel",void 0);var a=l.ccclass;l.property,t("walletPanel",a("walletPanel")(r=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var l=n.prototype;return l.start=function(){},l.update=function(t){},n}(o))||r);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});