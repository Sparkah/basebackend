System.register("chunks:///_virtual/apiClient.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,a,o,s,i,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){i=e.cclegacy,c=e._decorator,u=e.Component}],execute:function(){var l,p,f;i._RF.push({},"58ba2/aDd9N4ZPYhJz/HB9R","apiClient",void 0);var h=c.ccclass,d=c.property;e("apiClient",h("apiClient")((f=r((p=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,n(r,"BaseUrl",f,a(r)),r}t(r,e);var i=r.prototype;return i.sendRunFinished=function(){var e=o(s().mark((function e(r){var t,n,a,o,i,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=Number(localStorage.getItem("user_fid"))){e.next=9;break}if(!(n=window.miniapp)){e.next=9;break}return e.next=7,n.context;case 7:(a=e.sent)&&a.user&&(t=a.user.fid);case 9:if(t&&0!==t){e.next=12;break}return console.error("‚ùå Fatal Error: No FID found in Storage or Context. Cannot save run."),e.abrupt("return");case 12:return console.log("üöÄ Sending run for FID: "+t+", Score: "+r),o={fid:t,score:r},e.next=16,fetch(this.BaseUrl+"/runs/finish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 16:if((i=e.sent).ok){e.next=23;break}return e.next=20,i.text();case 20:return c=e.sent,console.error("‚ùå API error:",c),e.abrupt("return");case 23:return e.next=25,i.json();case 25:u=e.sent,console.log("‚úÖ Run saved:",u),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.error("‚ùå Failed to send run:",e.t0);case 32:case"end":return e.stop()}}),e,this,[[0,29]])})));return function(r){return e.apply(this,arguments)}}(),i.getAllRuns=function(){var e=o(s().mark((function e(){var r,t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this.BaseUrl+"/runs/all",{method:"GET"});case 3:if((r=e.sent).ok){e.next=10;break}return e.next=7,r.text();case 7:return t=e.sent,console.error("‚ùå API error:",t),e.abrupt("return",[]);case 10:return e.next=12,r.json();case 12:return(n=e.sent).length>0&&console.log("Fetched first run:",n[0]),e.abrupt("return",n);case 17:return e.prev=17,e.t0=e.catch(0),console.error("‚ùå Failed to fetch runs:",e.t0),e.abrupt("return",[]);case 21:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),r}(u)).prototype,"BaseUrl",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"https://basebackend-production-f4f9.up.railway.app"}}),l=p))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/authPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,a,o,s;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator,s=e.Component}],execute:function(){var c;a._RF.push({},"90b9aPjXKdGfqQXsk/Z4xZz","authPanel",void 0);var i=o.ccclass;e("authPanel",i("authPanel")(c=function(e){function a(){return e.apply(this,arguments)||this}n(a,e);var o=a.prototype;return o.initMiniApp=function(){var e=t(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getFarcasterSDK()){e.next=4;break}return console.error("‚ùå SDK not found. Are you in a browser?"),e.abrupt("return");case 4:return console.log("‚úÖ SDK Found. Initializing..."),e.prev=5,e.next=8,n.actions.ready();case 8:return console.log("‚úÖ sent sdk.actions.ready()"),e.next=11,this.silentLogin(n);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.error("‚ùå SDK Init Error:",e.t0);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(){return e.apply(this,arguments)}}(),o.silentLogin=function(){var e=t(r().mark((function e(n){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("üïµÔ∏è Starting Silent Login..."),e.next=4,n.context;case 4:if(!(t=e.sent)||!t.user){e.next=11;break}return console.log("üë§ User Context Found:",t.user.username),e.next=9,this.loginToBackend(t.user);case 9:e.next=12;break;case 11:console.warn("‚ö†Ô∏è No user context found. (Running outside Farcaster?)");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("‚ùå Silent login error:",e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(n){return e.apply(this,arguments)}}(),o.loginToBackend=function(){var e=t(r().mark((function e(n){var t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://basebackend-production-f4f9.up.railway.app/auth/login-silent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fid:n.fid,username:n.username,displayName:n.displayName,pfpUrl:n.pfpUrl})});case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Backend Status: "+t.status);case 6:return e.next=8,t.json();case 8:a=e.sent,console.log("üîê Backend Auth Success! Token:",a.accessToken),localStorage.setItem("auth_token",a.accessToken),localStorage.setItem("user_fid",n.fid.toString()),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("‚ùå Backend connection failed:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(n){return e.apply(this,arguments)}}(),o.getFarcasterSDK=function(){var e=window.miniapp;return e?e.actions?e:e.default&&e.default.actions?e.default:e.sdk&&e.sdk.actions?e.sdk:null:null},a}(s))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/clicker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameManager.ts"],(function(e){var t,i,r,o,n,c,a,s,l,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,c=e._decorator,a=e.Node,s=e.RichText,l=e.Component},function(e){h=e.gameManager}],execute:function(){var f,m,u,g,p,_,T,x,d,R;n._RF.push({},"132a6HotXRCe4xf0UlO+aoz","clicker",void 0);var b=c.ccclass,y=c.property;e("clicker",(f=b("clicker"),m=y(a),u=y(a),g=y(a),f((T=t((_=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return t=e.call.apply(e,[this].concat(n))||this,r(t,"scoreText",T,o(t)),r(t,"timerText",x,o(t)),r(t,"timer",d,o(t)),r(t,"GameManager",R,o(t)),t._score=0,t._timerRichText=null,t._scoreRichText=null,t._gameStarted=!1,t}i(t,e);var n=t.prototype;return n.startGame=function(){this._gameStarted=!0,this._score=0,this.timer=10,this._scoreRichText&&(this._scoreRichText.string="<color=#00ff00>Score: </color><color=#0fffff>0</color>"),this._timerRichText&&(this._timerRichText.string="<color=#ff0000>Time: </color><color=#ff00ff>"+this.timer.toFixed(2)+"</color>")},n.start=function(){this.node.on(a.EventType.TOUCH_START,this._onClick,this),this._timerRichText=this.timerText.getComponent(s),this._scoreRichText=this.scoreText.getComponent(s),this.GameManager=this.GameManager.getComponent(h)},n.update=function(e){if(this._gameStarted){if(this.timer-=e,this.timer<=0)return this.timer=0,this._gameStarted=!1,void(this.GameManager?this.GameManager.onRunFinished(this._score):console.log("Game Manager is not assigned! Did not report final score."));if(this._timerRichText){var t="<color=#ff0000>Time: </color><color=#ff00ff>"+this.timer.toFixed(2)+"</color>";this._timerRichText.string=t}}},n._onClick=function(){if(this._gameStarted&&!(this.timer<=0)){var e=this._score+1;if(this._score=e,this._scoreRichText){var t="<color=#00ff00>Score: </color><color=#0fffff>"+e+"</color>";this._scoreRichText.string=t}}},t}(l)).prototype,"scoreText",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(_.prototype,"timerText",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(_.prototype,"timer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),R=t(_.prototype,"GameManager",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=_))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/gameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./clicker.ts","./apiClient.ts","./leaderboard.ts","./authPanel.ts","./playerStatsPanel.ts"],(function(e){var a,n,t,i,l,r,o,s,u,c,h,p,d;return{setters:[function(e){a=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,o=e.Node,s=e.Component},function(e){u=e.clicker},function(e){c=e.apiClient},function(e){h=e.leaderboard},function(e){p=e.authPanel},function(e){d=e.playerStatsPanel}],execute:function(){var P,b,y,f,m,v,g,M,w,L,C,G,D,k,A;l._RF.push({},"a9868MUjVtFyIwKobvEGsik","gameManager",void 0);var z=r.ccclass,S=r.property;e("gameManager",(P=z("gameManager"),b=S(o),y=S(o),f=S(u),m=S(p),v=S(o),g=S(d),P((L=a((w=function(e){function a(){for(var a,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=e.call.apply(e,[this].concat(l))||this,t(a,"GameplayPanel",L,i(a)),t(a,"MenuPanel",C,i(a)),t(a,"Clicker",G,i(a)),t(a,"authPanel",D,i(a)),a.ApiClient=null,a.playerData=void 0,t(a,"LeaderboardPanel",k,i(a)),t(a,"PlayerStatsPanel",A,i(a)),a}n(a,e);var l=a.prototype;return l.start=function(){var e=this;this.ApiClient=new c,this.playerData=new playerData,this.authPanel.initMiniApp().then((function(){console.log("Auth Panel initialized."),e.playerData.loadData().then((function(){console.log("Player Data loaded. "+e.playerData.currentCoins+" coins available."),e.PlayerStatsPanel.updateStats(e.playerData)}))})),this.MenuPanel&&(this.MenuPanel.active=!0),this.GameplayPanel&&(this.GameplayPanel.active=!1)},l.showMenu=function(){this.MenuPanel&&(this.MenuPanel.active=!0),this.GameplayPanel&&(this.GameplayPanel.active=!1),this.authPanel&&(this.authPanel.node.active=!1),this.LeaderboardPanel&&(this.LeaderboardPanel.active=!1)},l.startGame=function(){this.MenuPanel&&(this.MenuPanel.active=!1),this.GameplayPanel&&(this.GameplayPanel.active=!0),this.authPanel&&(this.authPanel.node.active=!1),this.Clicker&&this.Clicker.startGame(),this.LeaderboardPanel&&(this.LeaderboardPanel.active=!1)},l.onRunFinished=function(e){if(console.log("Run ended with score:",e),this.ApiClient)this.ApiClient.sendRunFinished(e);this.GameplayPanel&&(this.GameplayPanel.active=!1),this.MenuPanel&&(this.MenuPanel.active=!0)},l.showNormalLeaderboard=function(){if(console.log("Show Normal Leaderboard clicked"),this.LeaderboardPanel){this.LeaderboardPanel.active=!0;var e=this.LeaderboardPanel.getComponent(h);e&&this.ApiClient&&this.ApiClient.getAllRuns().then((function(a){e.showLeaderboard(a)}))}this.MenuPanel&&(this.MenuPanel.active=!1)},l.showNFTLeaderboard=function(){console.log("Show NFT Leaderboard clicked")},a}(s)).prototype,"GameplayPanel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=a(w.prototype,"MenuPanel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=a(w.prototype,"Clicker",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=a(w.prototype,"authPanel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=a(w.prototype,"LeaderboardPanel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=a(w.prototype,"PlayerStatsPanel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=w))||M));l._RF.pop()}}}));

System.register("chunks:///_virtual/gameplayPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,a,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,a=e._decorator,r=e.Component}],execute:function(){var o;n._RF.push({},"32d94ZjjV9J2a4SVz73rGRi","gameplayPanel",void 0);var c=a.ccclass;a.property,e("gameplayPanel",c("gameplayPanel")(o=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var a=n.prototype;return a.start=function(){},a.update=function(e){},n}(r))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/leaderboard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameManager.ts"],(function(e){var t,r,n,a,o,i,s,l,c,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,s=e.Prefab,l=e.Button,c=e.instantiate,u=e.RichText,p=e.Component},function(e){f=e.gameManager}],execute:function(){var h,d,b,g,y,m,P,_,v;o._RF.push({},"ce6f55mAYxHbqEEg4BgpKRh","leaderboard",void 0);var x=i.ccclass,C=i.property;e("leaderboard",(h=x("leaderboard"),d=C(s),b=C(l),g=C(f),h((P=t((m=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(t,"DisplyPlayerPrefab",P,a(t)),n(t,"backBtn",_,a(t)),n(t,"gameManagerNode",v,a(t)),t._textNodes=[],t._textComponents=[],t._maxLeaders=100,t}r(t,e);var o=t.prototype;return o.start=function(){if(this.DisplyPlayerPrefab){this.backBtn&&this.backBtn.node.on(l.EventType.CLICK,this._onBackClicked,this);for(var e=0;e<this._maxLeaders;e++){var t=c(this.DisplyPlayerPrefab),r=t.getComponent(u);r?(r.string="",this._textNodes.push(t),this._textComponents.push(r),this.node.addChild(t)):console.error("Prefab has no RichText component")}}else console.error("DisplyPlayerPrefab is not set")},o.showLeaderboard=function(e){for(var t=0;t<this._textComponents.length;t++){var r=this._textComponents[t];if(t>=e.length)r.string="";else{var n=e[t],a=n.user?n.user.username:"Unknown Player";new Date(n.createdAt).toLocaleDateString();r.string="<color=#00ff00>"+(t+1)+".</color> "+a+" - Score: <color=#ff0000>"+n.score+"</color>"}}},o._onBackClicked=function(){this.gameManagerNode.showMenu()},t}(p)).prototype,"DisplyPlayerPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(m.prototype,"backBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(m.prototype,"gameManagerNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./leaderboard.ts","./apiClient.ts","./authPanel.ts","./gameManager.ts","./clicker.ts","./gameplayPanel.ts","./playerStatsPanel.ts","./menuPanel.ts","./playerData.ts","./walletPanel.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/menuPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameManager.ts"],(function(e){var a,r,t,n,i,o,l,s,u;return{setters:[function(e){a=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Button,s=e.Component},function(e){u=e.gameManager}],execute:function(){var d,c,m,b,h,p,f,g,w,L,v;i._RF.push({},"e63a2xJQZhH84RwMMJR4t2b","menuPanel",void 0);var y=o.ccclass,B=o.property;e("menuPanel",(d=y("menuPanel"),c=B(u),m=B(l),b=B(l),h=B(l),d((g=a((f=function(e){function a(){for(var a,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=e.call.apply(e,[this].concat(i))||this,t(a,"GameManager",g,n(a)),t(a,"startGameBtn",w,n(a)),t(a,"viewNormalLeaderbiardBtn",L,n(a)),t(a,"viewNFTLeaderbiardBtn",v,n(a)),a}r(a,e);var i=a.prototype;return i.start=function(){this.startGameBtn&&this.startGameBtn.node.on(l.EventType.CLICK,this._onStartClicked,this),this.viewNormalLeaderbiardBtn&&this.viewNormalLeaderbiardBtn.node.on(l.EventType.CLICK,this._onViewNormalLeaderboardClicked,this),this.viewNFTLeaderbiardBtn&&this.viewNFTLeaderbiardBtn.node.on(l.EventType.CLICK,this._onViewNFTLeaderboardClicked,this)},i._onStartClicked=function(){this.GameManager&&this.GameManager.startGame()},i._onViewNormalLeaderboardClicked=function(){this.GameManager&&this.GameManager.showNormalLeaderboard()},i._onViewNFTLeaderboardClicked=function(){this.GameManager&&this.GameManager.showNFTLeaderboard()},a}(s)).prototype,"GameManager",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=a(f.prototype,"startGameBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=a(f.prototype,"viewNormalLeaderbiardBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=a(f.prototype,"viewNFTLeaderbiardBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/playerData.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"7aec06qFr9GuJhc0OFJYvEf","playerData",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/playerStatsPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,i,o,a,c,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Node,l=t.Button,u=t.Component}],execute:function(){var p,s,g,f,b,h,y,x,T,m,d,C,w;o._RF.push({},"85eabwMKVZH6o9g8/K/Ipfz","playerStatsPanel",void 0);var z=a.ccclass,P=a.property;t("playerStatsPanel",(p=z("playerStatsPanel"),s=P(c),g=P(c),f=P(c),b=P(l),h=P(l),p((T=e((x=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"coinsText",T,i(e)),r(e,"critText",m,i(e)),r(e,"incomeText",d,i(e)),r(e,"critUpgradeBtn",C,i(e)),r(e,"tapValueUpgradeBtn",w,i(e)),e}return n(e,t),e.prototype.updateStats=function(t){this.coinsText&&(this.coinsText.getComponent("RichText").string="Coins: "+t.currentCoins),this.critText&&(this.critText.getComponent("RichText").string="Crit Chance: "+t.currentCritsUpgrds+"%"),this.incomeText&&(this.incomeText.getComponent("RichText").string="Income: "+t.currentClickPowerUpgrds+"/tap")},e}(u)).prototype,"coinsText",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(x.prototype,"critText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(x.prototype,"incomeText",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(x.prototype,"critUpgradeBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(x.prototype,"tapValueUpgradeBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=x))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/walletPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,l,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,l=t._decorator,o=t.Component}],execute:function(){var r;n._RF.push({},"165caKl1ktHMZIP9lBox9RM","walletPanel",void 0);var a=l.ccclass;l.property,t("walletPanel",a("walletPanel")(r=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var l=n.prototype;return l.start=function(){},l.update=function(t){},n}(o))||r);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});